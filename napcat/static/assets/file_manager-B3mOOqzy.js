import{j as i,bf as o}from"./index-CmYOQK5J.js";import{V as d}from"./react-hot-toast-Dv4ROuD1.js";var w=c=>i.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...c,children:i.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})});class u{static async listFiles(t="/"){const{data:e}=await o.get(`/File/list?path=${encodeURIComponent(t)}`);return e.data}static async listDirectories(t="/"){const{data:e}=await o.get(`/File/list?path=${encodeURIComponent(t)}&onlyDirectory=true`);return e.data}static async createDirectory(t){const{data:e}=await o.post("/File/mkdir",{path:t});return e.data}static async delete(t){const{data:e}=await o.post("/File/delete",{path:t});return e.data}static async readFile(t){const{data:e}=await o.get(`/File/read?path=${encodeURIComponent(t)}`);return e.data}static async writeFile(t,e){const{data:a}=await o.post("/File/write",{path:t,content:e});return a.data}static async createFile(t){const{data:e}=await o.post("/File/create",{path:t});return e.data}static async batchDelete(t){const{data:e}=await o.post("/File/batchDelete",{paths:t});return e.data}static async rename(t,e){const{data:a}=await o.post("/File/rename",{oldPath:t,newPath:e});return a.data}static async move(t,e){const{data:a}=await o.post("/File/move",{sourcePath:t,targetPath:e});return a.data}static async batchMove(t){const{data:e}=await o.post("/File/batchMove",{items:t});return e.data}static download(t){const e=`/File/download?path=${encodeURIComponent(t)}`;d.promise(o.post(e,void 0,{responseType:"blob"}).catch(a=>{throw console.error(a),new Error("下载失败")}),{loading:"正在下载文件...",success:"下载成功",error:"下载失败"}).then(a=>{const r=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=r;let s=t.split("/").pop()||"";t.split(".").length===1&&(s+=".zip"),n.setAttribute("download",s),document.body.appendChild(n),n.click(),document.body.removeChild(n)}).catch(a=>{console.error(a)})}static async batchDownload(t){d.promise(o.post("/File/batchDownload",{paths:t},{responseType:"blob"}).catch(a=>{throw console.error(a),new Error("下载失败")}),{loading:"正在下载文件...",success:"下载成功",error:"下载失败"}).then(a=>{const r=window.URL.createObjectURL(new Blob([a.data])),n=document.createElement("a");n.href=r,n.setAttribute("download","files.zip"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}).catch(a=>{console.error(a)})}static async downloadToURL(t){const e=`/File/download?path=${encodeURIComponent(t)}`,a=await o.post(e,void 0,{responseType:"blob"});return window.URL.createObjectURL(new Blob([a.data]))}static async upload(t,e){const a=new FormData;e.forEach(n=>{a.append("files",n)});const{data:r}=await o.post(`/File/upload?path=${encodeURIComponent(t)}`,a,{headers:{"Content-Type":"multipart/form-data"}});return r.data}static async uploadWebUIFont(t){const e=new FormData;e.append("file",t);const{data:a}=await o.post("/File/font/upload/webui",e,{headers:{"Content-Type":"multipart/form-data"}});return a.data}static async deleteWebUIFont(){const{data:t}=await o.post("/File/font/delete/webui");return t.data}}export{w as C,u as F};
