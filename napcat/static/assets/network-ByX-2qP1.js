import{m as ne,E as Ue,q as B,w as le,X as we,bh as Ke,j as e,N as Ce,O as q,Q as ze,bi as fe,L as Be,a2 as Se,bj as Pe,bk as Ze,bl as Ge,R as Qe,aU as Je,aD as Xe,n as ve,o as Ye,Y as et,J as tt,p as at,bm as st,v as U,a3 as je,ad as rt,bn as ot,ac as nt,aZ as lt,bo as it,ab as ct,b as A,bp as dt,t as te,bq as ae,br as xe,bs as ut,bt as pt,bu as bt,g as ht,c as mt,d as ke,a as ft,az as vt,aA as gt,aw as xt,ax as yt,ay as wt,av as Ct,P as St}from"./index-CmYOQK5J.js";import{t as Pt,a as jt}from"./chunk-ML27DD5T-DMl4cAwO.js";import{r as _,R as kt}from"./react-router-dom-OnDrQFKg.js";import{V as W}from"./react-hot-toast-Dv4ROuD1.js";import{a as Dt}from"./qq_manager-B9l1QAXG.js";import{$ as Nt,m as ye,u as $t,b as Tt,c as It,l as Et}from"./chunk-O4OUNAUT-FIdfypQL.js";import{$ as Mt,b as Rt,d as _t,a as Ht}from"./chunk-IHO36JMK-DQwKzQU4.js";import{$ as Ft,s as Ot,S as At}from"./useTreeState-Cs65RTph.js";import{$ as Wt,a as qt,s as Vt}from"./chunk-KVDW62ZT-C9B15oyV.js";import{m as Lt}from"./index-CjQn7HZj.js";import{c as Z}from"./chunk-NAV3ZXLI-BitMpd90.js";import{b as Ut,g as Kt}from"./index-CiX8aaWa.js";import{G as zt}from"./react-icons-CZSvsnTt.js";import{l as Bt}from"./index-BEOeck5s.js";import{t as Zt}from"./primitives-D092zWiZ.js";import{u as De}from"./use-config-CBzV9UFh.js";import{i as Gt}from"./chunk-2QAN2V2R-CBg9DHdR.js";import{u as Qt,C as Jt}from"./react-hook-form-BMlNOFdk.js";import{u as Xt}from"./use-dialog-TzU2mZ21.js";import"./react-dom-_uqhELNW.js";import"./monaco-editor-Ay9dPZOv.js";import"./index-CokAva9Y.js";import"./features-animation-C10SjFHq.js";import"./getChildNodes-eHDh6EOw.js";import"./SelectionManager-DGxEXkHv.js";import"./chunk-EN4B57RQ-Bf6MwB69.js";import"./useToggleState-q9x5a_M9.js";import"./chunk-SLABUSGS-DdHIHbgs.js";import"./chunk-7F3ZLNJ6-xVWfLAzp.js";import"./chunk-M3MASYO7-DrIDGZ6Y.js";import"./chunk-CAFRINWI-CcU5yOMx.js";var Yt=ne({base:["w-full","p-1","min-w-[200px]"]});ne({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","outline-none","cursor-pointer","tap-highlight-transparent","data-[pressed=true]:opacity-70",...Ue,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal truncate",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:"border-small border-transparent hover:border-default data-[hover=true]:bg-default-100"},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{}}},defaultVariants:{variant:"solid",color:"default"},compoundVariants:[{variant:"solid",color:"default",class:{base:"data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"solid",color:"primary",class:{base:"data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"solid",color:"secondary",class:{base:"data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"solid",color:"success",class:{base:"data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"solid",color:"warning",class:{base:"data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"solid",color:"danger",class:{base:"data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"shadow",color:"default",class:{base:"data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground"}},{variant:"shadow",color:"primary",class:{base:"data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground"}},{variant:"shadow",color:"secondary",class:{base:"data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground"}},{variant:"shadow",color:"success",class:{base:"data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground"}},{variant:"shadow",color:"warning",class:{base:"data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground"}},{variant:"shadow",color:"danger",class:{base:"data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground"}},{variant:"bordered",color:"default",class:{base:"data-[hover=true]:border-default"}},{variant:"bordered",color:"primary",class:{base:"data-[hover=true]:border-primary data-[hover=true]:text-primary"}},{variant:"bordered",color:"secondary",class:{base:"data-[hover=true]:border-secondary data-[hover=true]:text-secondary"}},{variant:"bordered",color:"success",class:{base:"data-[hover=true]:border-success data-[hover=true]:text-success"}},{variant:"bordered",color:"warning",class:{base:"data-[hover=true]:border-warning data-[hover=true]:text-warning"}},{variant:"bordered",color:"danger",class:{base:"data-[hover=true]:border-danger data-[hover=true]:text-danger"}},{variant:"flat",color:"default",class:{base:"data-[hover=true]:bg-default/40 data-[hover=true]:text-default-foreground"}},{variant:"flat",color:"primary",class:{base:"data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary"}},{variant:"flat",color:"secondary",class:{base:"data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary"}},{variant:"flat",color:"success",class:{base:"data-[hover=true]:bg-success/20 data-[hover=true]:text-success "}},{variant:"flat",color:"warning",class:{base:"data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning"}},{variant:"flat",color:"danger",class:{base:"data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger"}},{variant:"faded",color:"default",class:{base:"data-[hover=true]:text-default-foreground"}},{variant:"faded",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"faded",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"faded",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"faded",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"faded",color:"danger",class:{base:"data-[hover=true]:text-danger"}},{variant:"light",color:"default",class:{base:"data-[hover=true]:text-default-500"}},{variant:"light",color:"primary",class:{base:"data-[hover=true]:text-primary"}},{variant:"light",color:"secondary",class:{base:"data-[hover=true]:text-secondary"}},{variant:"light",color:"success",class:{base:"data-[hover=true]:text-success"}},{variant:"light",color:"warning",class:{base:"data-[hover=true]:text-warning"}},{variant:"light",color:"danger",class:{base:"data-[hover=true]:text-danger"}}]});ne({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});ne({base:"w-full flex flex-col gap-0.5 p-1"});var ea=(t,a)=>{if(!t&&!a)return{};const s=new Set([...Object.keys(t||{}),...Object.keys(a||{})]);return Array.from(s).reduce((o,r)=>({...o,[r]:B(t==null?void 0:t[r],a==null?void 0:a[r])}),{})},Ne=le((t,a)=>{var s;const{as:o,className:r,children:b,...f}=t,h=o||"div",u=we(a),{slots:p,classNames:c}=Ke(),m=B(c==null?void 0:c.footer,r);return e.jsx(h,{ref:u,className:(s=p.footer)==null?void 0:s.call(p,{class:m}),...f,children:b})});Ne.displayName="HeroUI.CardFooter";var ta=Ne;const $e=new WeakMap;function aa(t,a,s){let{shouldFocusWrap:o=!0,onKeyDown:r,onKeyUp:b,...f}=t;!t["aria-label"]&&!t["aria-labelledby"]&&console.warn("An aria-label or aria-labelledby prop is required for accessibility.");let h=Ce(t,{labelable:!0}),{listProps:u}=Mt({...f,ref:s,selectionManager:a.selectionManager,collection:a.collection,disabledKeys:a.disabledKeys,shouldFocusWrap:o,linkBehavior:"override"});return $e.set(a,{onClose:t.onClose,onAction:t.onAction}),{menuProps:q(h,{onKeyDown:r,onKeyUp:b},{role:"menu",...u,onKeyDown:p=>{var c;p.key!=="Escape"&&((c=u.onKeyDown)===null||c===void 0||c.call(u,p))}})}}function sa(t,a,s){let{id:o,key:r,closeOnSelect:b,isVirtualized:f,"aria-haspopup":h,onPressStart:u,onPressUp:p,onPress:c,onPressChange:m,onPressEnd:i,onHoverStart:d,onHoverChange:x,onHoverEnd:j,onKeyDown:v,onKeyUp:$,onFocus:M,onFocusChange:k,onBlur:T,selectionManager:g=a.selectionManager}=t,C=!!h,H=C&&t["aria-expanded"]==="true";var y;let N=(y=t.isDisabled)!==null&&y!==void 0?y:g.isDisabled(r);var R;let S=(R=t.isSelected)!==null&&R!==void 0?R:g.isSelected(r),O=$e.get(a),l=a.collection.getItem(r),n=t.onClose||O.onClose,P=ze(),w=D=>{var ee;if(!C){if(!(l==null||(ee=l.props)===null||ee===void 0)&&ee.onAction?l.props.onAction():t.onAction&&t.onAction(r),O.onAction){let he=O.onAction;he(r)}D.target instanceof HTMLAnchorElement&&l&&P.open(D.target,D,l.props.href,l.props.routerOptions)}},I="menuitem";C||(g.selectionMode==="single"?I="menuitemradio":g.selectionMode==="multiple"&&(I="menuitemcheckbox"));let E=fe(),V=fe(),Q=fe(),K={id:o,"aria-disabled":N||void 0,role:I,"aria-label":t["aria-label"],"aria-labelledby":E,"aria-describedby":[V,Q].filter(Boolean).join(" ")||void 0,"aria-controls":t["aria-controls"],"aria-haspopup":h,"aria-expanded":t["aria-expanded"]};g.selectionMode!=="none"&&!C&&(K["aria-checked"]=S),f&&(K["aria-posinset"]=l==null?void 0:l.index,K["aria-setsize"]=Nt(a.collection));let X=D=>{D.pointerType==="keyboard"&&w(D),u==null||u(D)},ie=D=>{D.pointerType!=="keyboard"&&(w(D),!C&&n&&(b??(g.selectionMode!=="multiple"||g.isLink(r)))&&n()),p==null||p(D)},{itemProps:z,isFocused:ce}=Rt({selectionManager:g,key:r,ref:s,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,linkBehavior:"none"}),{pressProps:de,isPressed:ue}=Be({onPressStart:X,onPress:c,onPressUp:ie,onPressChange:m,onPressEnd:i,isDisabled:N}),{hoverProps:pe}=Se({isDisabled:N,onHoverStart(D){!Pe()&&!(H&&h==="dialog")&&(g.setFocused(!0),g.setFocusedKey(r)),d==null||d(D)},onHoverChange:x,onHoverEnd:j}),{keyboardProps:oe}=Ze({onKeyDown:D=>{if(D.repeat){D.continuePropagation();return}switch(D.key){case" ":!N&&g.selectionMode==="none"&&!C&&b!==!1&&n&&n();break;case"Enter":!N&&b!==!1&&!C&&n&&n();break;default:C||D.continuePropagation(),v==null||v(D);break}},onKeyUp:$}),{focusProps:be}=Ge({onBlur:T,onFocus:M,onFocusChange:k}),Y=Ce(l==null?void 0:l.props);delete Y.id;let L=Qe(l==null?void 0:l.props);return{menuItemProps:{...K,...q(Y,L,C?{onFocus:z.onFocus,"data-key":z["data-key"]}:z,de,pe,oe,be),tabIndex:z.tabIndex!=null&&H?-1:z.tabIndex},labelProps:{id:E},descriptionProps:{id:V},keyboardShortcutProps:{id:Q},isFocused:ce,isSelected:S,isPressed:ue,isDisabled:N}}function ra(t){let{heading:a,"aria-label":s}=t,o=Je();return{itemProps:{role:"presentation"},headingProps:a?{id:o,role:"presentation"}:{},groupProps:{role:"group","aria-label":s,"aria-labelledby":a?o:void 0}}}var[oa,Te]=Xe({name:"DropdownContext",errorMessage:"useDropdownContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Dropdown />`"});function na(t){const{isSelected:a,disableAnimation:s,...o}=t;return e.jsx("svg",{"aria-hidden":"true","data-selected":a,role:"presentation",viewBox:"0 0 17 18",...o,children:e.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:a?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:s?{}:{transition:"stroke-dashoffset 200ms ease"}})})}function la(t){var a,s;const o=ve(),[r,b]=Ye(t,ye.variantKeys),{as:f,item:h,state:u,shortcut:p,description:c,startContent:m,endContent:i,isVirtualized:d,selectedIcon:x,className:j,classNames:v,onAction:$,autoFocus:M,onPress:k,onPressStart:T,onPressUp:g,onPressEnd:C,onPressChange:H,onHoverStart:y,onHoverChange:N,onHoverEnd:R,hideSelectedIcon:S=!1,isReadOnly:O=!1,closeOnSelect:l,onClose:n,onClick:P,...w}=r,I=(s=(a=t.disableAnimation)!=null?a:o==null?void 0:o.disableAnimation)!=null?s:!1,E=_.useRef(null),V=f||(w!=null&&w.href?"a":"li"),Q=typeof V=="string",{rendered:K,key:X}=h,ie=u.disabledKeys.has(X)||t.isDisabled,z=u.selectionManager.selectionMode!=="none",ce=$t(),{isFocusVisible:de,focusProps:ue}=et({autoFocus:M});P&&typeof P=="function"&&tt("onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292","MenuItem");const pe=_.useCallback(F=>{P==null||P(F),k==null||k(F)},[P,k]),{isPressed:oe,isFocused:be,isSelected:Y,isDisabled:L,menuItemProps:D,labelProps:ee,descriptionProps:he,keyboardShortcutProps:He}=sa({key:X,onClose:n,isDisabled:ie,onPress:pe,onPressStart:T,onPressUp:g,onPressEnd:C,onPressChange:H,"aria-label":r["aria-label"],closeOnSelect:l,isVirtualized:d,onAction:$},u,E);let{hoverProps:Fe,isHovered:ge}=Se({isDisabled:L,onHoverStart(F){Pe()||(u.selectionManager.setFocused(!0),u.selectionManager.setFocusedKey(X)),y==null||y(F)},onHoverChange:N,onHoverEnd:R}),me=D;const G=_.useMemo(()=>ye({...b,isDisabled:L,disableAnimation:I,hasTitleTextChild:typeof K=="string",hasDescriptionTextChild:typeof c=="string"}),[at(b),L,I,K,c]),Oe=B(v==null?void 0:v.base,j);O&&(me=st(me));const Ae=(F={})=>({ref:E,...q(O?{}:ue,je(w,{enabled:Q}),me,Fe,F),"data-focus":U(be),"data-selectable":U(z),"data-hover":U(ce?ge||oe:ge),"data-disabled":U(L),"data-selected":U(Y),"data-pressed":U(oe),"data-focus-visible":U(de),className:G.base({class:B(Oe,F.className)})}),We=(F={})=>({...q(ee,F),className:G.title({class:v==null?void 0:v.title})}),qe=(F={})=>({...q(he,F),className:G.description({class:v==null?void 0:v.description})}),Ve=(F={})=>({...q(He,F),className:G.shortcut({class:v==null?void 0:v.shortcut})}),Le=_.useCallback((F={})=>({"aria-hidden":U(!0),"data-disabled":U(L),className:G.selectedIcon({class:v==null?void 0:v.selectedIcon}),...F}),[L,G,v]);return{Component:V,domRef:E,slots:G,classNames:v,isSelectable:z,isSelected:Y,isDisabled:L,rendered:K,shortcut:p,description:c,startContent:m,endContent:i,selectedIcon:x,disableAnimation:I,getItemProps:Ae,getLabelProps:We,hideSelectedIcon:S,getDescriptionProps:qe,getKeyboardShortcutProps:Ve,getSelectedIconProps:Le}}var Ie=t=>{const{Component:a,slots:s,classNames:o,rendered:r,shortcut:b,description:f,isSelectable:h,isSelected:u,isDisabled:p,selectedIcon:c,startContent:m,endContent:i,disableAnimation:d,hideSelectedIcon:x,getItemProps:j,getLabelProps:v,getDescriptionProps:$,getKeyboardShortcutProps:M,getSelectedIconProps:k}=la(t),T=_.useMemo(()=>{const g=e.jsx(na,{disableAnimation:d,isSelected:u});return typeof c=="function"?c({icon:g,isSelected:u,isDisabled:p}):c||g},[c,u,p,d]);return e.jsxs(a,{...j(),children:[m,f?e.jsxs("div",{className:s.wrapper({class:o==null?void 0:o.wrapper}),children:[e.jsx("span",{...v(),children:r}),e.jsx("span",{...$(),children:f})]}):e.jsx("span",{...v(),children:r}),b&&e.jsx("kbd",{...M(),children:b}),h&&!x&&e.jsx("span",{...k(),children:T}),i]})};Ie.displayName="HeroUI.MenuItem";var Ee=Ie,Me=le(({item:t,state:a,as:s,variant:o,color:r,disableAnimation:b,onAction:f,closeOnSelect:h,className:u,classNames:p,showDivider:c=!1,hideSelectedIcon:m,dividerProps:i={},itemClasses:d,title:x,...j},v)=>{const $=s||"li",M=_.useMemo(()=>Tt(),[]),k=B(p==null?void 0:p.base,u),T=B(p==null?void 0:p.divider,i==null?void 0:i.className),{itemProps:g,headingProps:C,groupProps:H}=ra({heading:t.rendered,"aria-label":t["aria-label"]});return e.jsxs($,{"data-slot":"base",...q(g,j),className:M.base({class:k}),children:[t.rendered&&e.jsx("span",{...C,className:M.heading({class:p==null?void 0:p.heading}),"data-slot":"heading",children:t.rendered}),e.jsxs("ul",{...H,className:M.group({class:p==null?void 0:p.group}),"data-has-title":!!t.rendered,"data-slot":"group",children:[[...t.childNodes].map(y=>{const{key:N,props:R}=y;let S=e.jsx(Ee,{classNames:d,closeOnSelect:h,color:r,disableAnimation:b,hideSelectedIcon:m,item:y,state:a,variant:o,onAction:f,...R},N);return y.wrapper&&(S=y.wrapper(S)),S}),c&&e.jsx(_t,{as:"li",className:M.divider({class:T}),...i})]})]})});Me.displayName="HeroUI.MenuSection";var ia=Me;function ca(t){var a;const s=ve(),{as:o,ref:r,variant:b,color:f,children:h,disableAnimation:u=(a=s==null?void 0:s.disableAnimation)!=null?a:!1,onAction:p,closeOnSelect:c,itemClasses:m,className:i,state:d,topContent:x,bottomContent:j,hideEmptyContent:v=!1,hideSelectedIcon:$=!1,emptyContent:M="No items.",menuProps:k,onClose:T,classNames:g,...C}=t,H=o||"ul",y=we(r),N=typeof H=="string",R=Ft({...C,...k,children:h}),S=d||R,{menuProps:O}=aa({...C,...k,onAction:p},S,y),l=_.useMemo(()=>It({className:i}),[i]),n=B(g==null?void 0:g.base,i);return{Component:H,state:S,variant:b,color:f,disableAnimation:u,onClose:T,topContent:x,bottomContent:j,closeOnSelect:c,className:i,itemClasses:m,getBaseProps:(E={})=>({ref:y,"data-slot":"base",className:l.base({class:n}),...je(C,{enabled:N}),...E}),getListProps:(E={})=>({"data-slot":"list",className:l.list({class:g==null?void 0:g.list}),...O,...E}),hideEmptyContent:v,hideSelectedIcon:$,getEmptyContentProps:(E={})=>({children:M,className:l.emptyContent({class:g==null?void 0:g.emptyContent}),...E})}}var da=le(function(a,s){const{Component:o,state:r,closeOnSelect:b,color:f,disableAnimation:h,hideSelectedIcon:u,hideEmptyContent:p,variant:c,onClose:m,topContent:i,bottomContent:d,itemClasses:x,getBaseProps:j,getListProps:v,getEmptyContentProps:$}=ca({...a,ref:s}),M=e.jsxs(o,{...v(),children:[!r.collection.size&&!p&&e.jsx("li",{children:e.jsx("div",{...$()})}),[...r.collection].map(k=>{const T={closeOnSelect:b,color:f,disableAnimation:h,item:k,state:r,variant:c,onClose:m,hideSelectedIcon:u,...k.props},g=ea(x,T==null?void 0:T.classNames);if(k.type==="section")return e.jsx(ia,{...T,itemClasses:g},k.key);let C=e.jsx(Ee,{...T,classNames:g},k.key);return k.wrapper&&(C=k.wrapper(C)),C})]});return e.jsxs("div",{...j(),children:[i,M,d]})}),ua=da,pa=Ht,J=pa,ba=le(function(a,s){const{getMenuProps:o}=Te();return e.jsx(rt,{children:e.jsx(ot,{contain:!0,restoreFocus:!0,children:e.jsx(ua,{...o(a,s)})})})}),ha=ba,Re=t=>{const{getMenuTriggerProps:a}=Te(),{children:s,...o}=t;return e.jsx(nt,{...a(o),children:s})};Re.displayName="HeroUI.DropdownTrigger";var ma=Re,fa=(t,a)=>{if(t){const s=Array.isArray(t.children)?t.children:[...(t==null?void 0:t.items)||[]];if(s&&s.length)return s.find(r=>{if(r&&r.key===a)return r})||{}}return null},va=(t,a,s)=>{const o=s||fa(t,a);return o&&o.props&&"closeOnSelect"in o.props?o.props.closeOnSelect:t==null?void 0:t.closeOnSelect};function ga(t){var a;const s=ve(),{as:o,triggerRef:r,isOpen:b,defaultOpen:f,onOpenChange:h,isDisabled:u,type:p="menu",trigger:c="press",placement:m="bottom",closeOnSelect:i=!0,shouldBlockScroll:d=!0,classNames:x,disableAnimation:j=(a=s==null?void 0:s.disableAnimation)!=null?a:!1,onClose:v,className:$,...M}=t,k=o||"div",T=_.useRef(null),g=r||T,C=_.useRef(null),H=_.useRef(null),y=Wt({trigger:c,isOpen:b,defaultOpen:f,onOpenChange:w=>{h==null||h(w),w||v==null||v()}}),{menuTriggerProps:N,menuProps:R}=qt({type:p,trigger:c,isDisabled:u},y,g),S=_.useMemo(()=>Yt({className:$}),[$]),O=w=>{w!==void 0&&!w||i&&y.close()},l=(w={})=>{const I=q(M,w);return{state:y,placement:m,ref:H,disableAnimation:j,shouldBlockScroll:d,scrollRef:C,triggerRef:g,...I,classNames:{...x,...w.classNames,content:B(S,x==null?void 0:x.content,w.className)},shouldCloseOnInteractOutside:I!=null&&I.shouldCloseOnInteractOutside?I.shouldCloseOnInteractOutside:E=>it(E,T,y)}},n=(w={})=>{const{onPress:I,onPressStart:E,...V}=N;return q(V,{isDisabled:u},w)},P=(w,I=null)=>({ref:lt(I,C),menuProps:R,closeOnSelect:i,...q(w,{onAction:(E,V)=>{const Q=va(w,E,V);O(Q)},onClose:y.close})});return{Component:k,menuRef:C,menuProps:R,classNames:S,closeOnSelect:i,onClose:y.close,autoFocus:y.focusStrategy||!0,disableAnimation:j,getPopoverProps:l,getMenuProps:P,getMenuTriggerProps:n}}var _e=t=>{const{children:a,...s}=t,o=ga(s),[r,b]=kt.Children.toArray(a);return e.jsx(oa,{value:o,children:e.jsxs(ct,{...o.getPopoverProps(),children:[r,b]})})};_e.displayName="HeroUI.Dropdown";var xa=_e;const ya=t=>{const{onOpen:a}=t;return e.jsxs(xa,{classNames:{content:"bg-opacity-30 backdrop-blur-md"},placement:"right",children:[e.jsx(ma,{children:e.jsx(A,{color:"primary",startContent:e.jsx(Lt,{className:"text-2xl"}),children:"新建"})}),e.jsxs(ha,{"aria-label":"Create Network Config",color:"primary",variant:"flat",onAction:s=>{a(s)},children:[e.jsx(J,{isReadOnly:!0,className:"cursor-default hover:!bg-transparent",textValue:"title",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-5 h-5 -ml-3",children:e.jsx(dt,{})}),e.jsx("div",{className:"text-primary-400",children:"新建网络配置"})]})},"title"),e.jsx(J,{textValue:"httpServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(xe,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP服务器",e.jsx(te,{content:"「由NapCat建立」一个HTTP服务器，你可以「使用框架连接」此服务器或者「自己构造请求发送」至此服务器。NapCat会根据你配置的IP和端口等建立一个地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(A,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpServers"),e.jsx(J,{textValue:"httpSseServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(xe,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP SSE服务器",e.jsx(te,{content:"「由NapCat建立」一个HTTP SSE服务器，你可以「使用框架连接」此服务器或者「自己构造请求发送」至此服务器。NapCat会根据你配置的IP和端口等建立一个地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(A,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpSseServers"),e.jsx(J,{textValue:"httpClients",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(ut,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["HTTP客户端",e.jsx(te,{content:"「由框架或者你自己建立」的一个用于「接收」NapCat向你发送请求的客户端，通常框架会提供一个HTTP地址。这个地址是你使用的框架提供的，NapCat会主动连接它。",showArrow:!0,className:"max-w-64",children:e.jsx(A,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"httpClients"),e.jsx(J,{textValue:"websocketServers",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(pt,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["Websocket服务器",e.jsx(te,{content:"「由NapCat建立」一个WebSocket服务器，你的框架应该连接到此服务器。NapCat会根据你配置的IP和端口等建立一个WebSocket地址，你或者你的框架应该连接到这个地址。",showArrow:!0,className:"max-w-64",children:e.jsx(A,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"websocketServers"),e.jsx(J,{textValue:"websocketClients",startContent:e.jsx("div",{className:"w-6 h-6",children:e.jsx(bt,{})}),children:e.jsxs("div",{className:"flex gap-1 items-center",children:["Websocket客户端",e.jsx(te,{content:"「由框架或者你自己建立」的WebSocket，通常框架会「提供」一个ws地址，NapCat会主动连接它。",showArrow:!0,className:"max-w-64",children:e.jsx(A,{isIconOnly:!0,radius:"full",size:"sm",variant:"light",className:"w-4 h-4 min-w-0",children:e.jsx(ae,{})})})]})},"websocketClients")]})]})};function wa(t){return zt({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M10 11C10 10.4477 10.4477 10 11 10H13C13.5523 10 14 10.4477 14 11C14 11.5523 13.5523 12 13 12H11C10.4477 12 10 11.5523 10 11Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M11 14C10.4477 14 10 14.4477 10 15C10 15.5523 10.4477 16 11 16H13C13.5523 16 14 15.5523 14 15C14 14.4477 13.5523 14 13 14H11Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M9.09447 4.74918C8.41606 4.03243 8 3.0648 8 2H10C10 3.10457 10.8954 4 12 4C13.1046 4 14 3.10457 14 2H16C16 3.0648 15.5839 4.03243 14.9055 4.74918C16.1782 5.45491 17.1673 6.6099 17.6586 8H19C19.5523 8 20 8.44772 20 9C20 9.55229 19.5523 10 19 10H18V12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H18V16H19C19.5523 16 20 16.4477 20 17C20 17.5523 19.5523 18 19 18H17.6586C16.8349 20.3304 14.6124 22 12 22C9.38756 22 7.16508 20.3304 6.34141 18H5C4.44772 18 4 17.5523 4 17C4 16.4477 4.44772 16 5 16H6V14H5C4.44772 14 4 13.5523 4 13C4 12.4477 4.44772 12 5 12H6V10H5C4.44772 10 4 9.55229 4 9C4 8.44772 4.44772 8 5 8H6.34141C6.83274 6.6099 7.82181 5.45491 9.09447 4.74918ZM8 16V10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10V16C16 18.2091 14.2091 20 12 20C9.79086 20 8 18.2091 8 16Z",fill:"currentColor"},child:[]}]})(t)}const Ca=({title:t,action:a,tag:s,enableSwitch:o,children:r})=>e.jsxs(ht,{className:"bg-opacity-50 backdrop-blur-sm",children:[e.jsxs(mt,{className:"pb-0 flex items-center",children:[s&&e.jsx("div",{className:"text-center text-default-400 mb-1 absolute top-0 left-1/2 -translate-x-1/2 text-sm pointer-events-none bg-warning-100 dark:bg-warning-50 px-2 rounded-b",children:s}),e.jsx("h2",{className:ke(Zt({color:"foreground",size:"xs",shadow:!0}),"truncate"),children:t}),e.jsx("div",{className:"ml-auto",children:o})]}),e.jsx(ft,{className:"text-sm",children:r}),e.jsx(ta,{children:a})]}),se=({data:t,showType:a,typeLabel:s,fields:o,onEdit:r,onEnable:b,onDelete:f,onEnableDebug:h})=>{const{name:u,enable:p,debug:c}=t,[m,i]=_.useState(!1),d=()=>{i(!0),b().finally(()=>i(!1))},x=()=>{i(!0),f().finally(()=>i(!1))},j=()=>{i(!0),h().finally(()=>i(!1))};return e.jsx(Ca,{action:e.jsxs(Ut,{fullWidth:!0,isDisabled:m,radius:"full",size:"sm",variant:"shadow",children:[e.jsx(A,{color:"warning",startContent:e.jsx(Kt,{}),onPress:r,children:"编辑"}),e.jsx(A,{color:c?"success":"default",startContent:e.jsx(wa,{}),onPress:j,children:c?"关闭调试":"开启调试"}),e.jsx(A,{color:"primary",startContent:e.jsx(Bt,{}),onPress:x,children:"删除"})]}),enableSwitch:e.jsx(Ot,{isDisabled:m,isSelected:p,onChange:d}),tag:a&&s,title:u,children:e.jsx("div",{className:"grid grid-cols-2 gap-1",children:o.map((v,$)=>e.jsxs("div",{className:`flex items-center gap-2 ${v.label==="URL"?"col-span-2":""}`,children:[e.jsx("span",{className:"text-default-400",children:v.label}),v.render?v.render(v.value):e.jsx("span",{children:v.value})]},$))})})},Sa=t=>{const{data:a,showType:s,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f}=t,{url:h,reportSelfMessage:u,messagePostFormat:p}=a,c=[{label:"URL",value:h},{label:"消息格式",value:p},{label:"上报自身消息",value:u,render:m=>e.jsx(Z,{color:m?"success":"default",size:"sm",variant:"flat",children:m?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP客户端",fields:c,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f})},Pa=t=>{const{data:a,showType:s,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f}=t,{host:h,port:u,enableCors:p,enableWebsocket:c,messagePostFormat:m}=a,i=[{label:"主机",value:h},{label:"端口",value:u},{label:"消息格式",value:m},{label:"CORS",value:p,render:d=>e.jsx(Z,{color:d?"success":"default",size:"sm",variant:"flat",children:d?"已启用":"未启用"})},{label:"WS",value:c,render:d=>e.jsx(Z,{color:d?"success":"default",size:"sm",variant:"flat",children:d?"已启用":"未启用"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP服务器",fields:i,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f})},ja=t=>{const{data:a,showType:s,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f}=t,{host:h,port:u,enableCors:p,enableWebsocket:c,messagePostFormat:m}=a,i=[{label:"主机",value:h},{label:"端口",value:u},{label:"消息格式",value:m},{label:"CORS",value:p,render:d=>e.jsx(Z,{color:d?"success":"default",size:"sm",variant:"flat",children:d?"已启用":"未启用"})},{label:"WS",value:c,render:d=>e.jsx(Z,{color:d?"success":"default",size:"sm",variant:"flat",children:d?"已启用":"未启用"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"HTTP服务器",fields:i,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f})},ka=t=>{const{data:a,showType:s,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f}=t,{url:h,heartInterval:u,reconnectInterval:p,messagePostFormat:c,reportSelfMessage:m}=a,i=[{label:"URL",value:h},{label:"重连间隔",value:`${p}ms`},{label:"心跳间隔",value:`${u}ms`},{label:"消息格式",value:c},{label:"上报自身消息",value:m,render:d=>e.jsx(Z,{color:d?"success":"default",size:"sm",variant:"flat",children:d?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"Websocket客户端",fields:i,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f})},Da=t=>{const{data:a,showType:s,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f}=t,{host:h,port:u,heartInterval:p,messagePostFormat:c,reportSelfMessage:m,enableForcePushEvent:i}=a,d=[{label:"主机",value:h},{label:"端口",value:u},{label:"心跳间隔",value:`${p}ms`},{label:"消息格式",value:c},{label:"上报自身消息",value:m,render:x=>e.jsx(Z,{color:x?"success":"default",size:"sm",variant:"flat",children:x?"是":"否"})},{label:"强制推送事件",value:i,render:x=>e.jsx(Z,{color:x?"success":"default",size:"sm",variant:"flat",children:x?"是":"否"})}];return e.jsx(se,{data:a,showType:s,typeLabel:"Websocket服务器",fields:d,onEdit:o,onEnable:r,onDelete:b,onEnableDebug:f})},re=({data:t,defaultValues:a,onClose:s,onSubmit:o,fields:r})=>{const{control:b,handleSubmit:f,formState:h,setValue:u,reset:p}=Qt({defaultValues:a}),m=f(async i=>{await o(i),s()},i=>{var d;for(const x in i){W.error((d=i[x])==null?void 0:d.message);return}});return _.useEffect(()=>{if(t){const i=Object.keys(t);for(const d of i){const x=t[d];u(d,x)}}else p()},[t,p,u]),e.jsxs(e.Fragment,{children:[e.jsx(vt,{children:e.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 w-full",children:r.map(i=>e.jsx("div",{className:i.colSpan===1?"col-span-1":"col-span-2",children:e.jsx(Jt,{control:b,name:i.name,rules:i.isRequired?{required:`请填写${i.label}`}:void 0,render:({field:d})=>{var x;switch(i.type){case"input":return e.jsx(Gt,{value:d.value,onChange:d.onChange,onBlur:d.onBlur,ref:d.ref,isRequired:i.isRequired,isDisabled:i.isDisabled,label:i.label,placeholder:i.placeholder});case"select":return e.jsx(Vt,{...d,ref:d.ref,isRequired:i.isRequired,label:i.label,placeholder:i.placeholder,selectedKeys:[d.value],value:d.value.toString(),children:((x=i.options)==null?void 0:x.map(j=>e.jsx(Et,{value:j.value,children:j.value},j.key)))||e.jsx(e.Fragment,{})});case"switch":return e.jsx(At,{...d,value:d.value,description:i.description,label:i.label});default:return e.jsx(e.Fragment,{})}}})},i.name))})}),e.jsxs(gt,{children:[e.jsx(A,{color:"primary",isDisabled:h.isSubmitting,variant:"light",onPress:s,children:"关闭"}),e.jsx(A,{color:"primary",isLoading:h.isSubmitting,onPress:()=>m(),children:"保存"})]})]})},Na=({data:t,onClose:a,onSubmit:s})=>{const o={enable:!1,name:"",url:"http://localhost:8080",reportSelfMessage:!1,messagePostFormat:"array",token:"",debug:!1},r=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"url",label:"URL",type:"input",placeholder:"请输入URL",isRequired:!0},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"}];return e.jsx(re,{data:t,defaultValues:o,onClose:a,onSubmit:s,fields:r})},$a=({data:t,onClose:a,onSubmit:s})=>{const o={enable:!1,name:"",host:"0.0.0.0",port:3e3,enableCors:!0,enableWebsocket:!0,messagePostFormat:"array",token:"",debug:!1},r=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0},{name:"enableCors",label:"启用CORS",type:"switch",description:"是否启用CORS跨域",colSpan:1},{name:"enableWebsocket",label:"启用Websocket",type:"switch",description:"是否启用Websocket",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}]},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"}];return e.jsx(re,{data:t,defaultValues:o,onClose:a,onSubmit:s,fields:r})},Ta=({data:t,onClose:a,onSubmit:s})=>{const o={enable:!1,name:"",host:"0.0.0.0",port:3e3,enableCors:!0,enableWebsocket:!0,messagePostFormat:"array",token:"",debug:!1,reportSelfMessage:!1},r=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0},{name:"enableCors",label:"启用CORS",type:"switch",description:"是否启用CORS跨域",colSpan:1},{name:"enableWebsocket",label:"启用Websocket",type:"switch",description:"是否启用Websocket",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}]},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1}];return e.jsx(re,{data:t,defaultValues:o,onClose:a,onSubmit:s,fields:r})},Ia=({data:t,onClose:a,onSubmit:s})=>{const o={enable:!1,name:"",url:"ws://localhost:8082",reportSelfMessage:!1,messagePostFormat:"array",token:"",debug:!1,heartInterval:3e4,reconnectInterval:3e4},r=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"url",label:"URL",type:"input",placeholder:"请输入URL",isRequired:!0},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"heartInterval",label:"心跳间隔",type:"input",placeholder:"请输入心跳间隔",isRequired:!0,colSpan:1},{name:"reconnectInterval",label:"重连间隔",type:"input",placeholder:"请输入重连间隔",isRequired:!0,colSpan:1}];return e.jsx(re,{data:t,defaultValues:o,onClose:a,onSubmit:s,fields:r})},Ea=({data:t,onClose:a,onSubmit:s})=>{const o={enable:!1,name:"",host:"0.0.0.0",port:3001,reportSelfMessage:!1,enableForcePushEvent:!0,messagePostFormat:"array",token:"",debug:!1,heartInterval:3e4},r=[{name:"enable",label:"启用",type:"switch",description:"保存后启用此配置",colSpan:1},{name:"debug",label:"开启Debug",type:"switch",description:"是否开启调试模式",colSpan:1},{name:"name",label:"名称",type:"input",placeholder:"请输入名称",isRequired:!0,isDisabled:!!t},{name:"host",label:"Host",type:"input",placeholder:"请输入主机地址",isRequired:!0},{name:"port",label:"Port",type:"input",placeholder:"请输入端口",isRequired:!0,colSpan:1},{name:"messagePostFormat",label:"消息格式",type:"select",placeholder:"请选择消息格式",isRequired:!0,options:[{key:"array",value:"Array"},{key:"string",value:"String"}],colSpan:1},{name:"reportSelfMessage",label:"上报自身消息",type:"switch",description:"是否上报自身消息",colSpan:1},{name:"enableForcePushEvent",label:"强制推送事件",type:"switch",description:"是否强制推送事件",colSpan:1},{name:"token",label:"Token",type:"input",placeholder:"请输入Token"},{name:"heartInterval",label:"心跳间隔",type:"input",placeholder:"请输入心跳间隔",isRequired:!0}];return e.jsx(re,{data:t,defaultValues:o,onClose:a,onSubmit:s,fields:r})},Ma={httpServers:"HTTP Server",httpClients:"HTTP Client",httpSseServers:"HTTP SSE Server",websocketServers:"Websocket Server",websocketClients:"Websocket Client"},Ra=t=>{const{isOpen:a,onOpenChange:s,field:o,data:r}=t,{createNetworkConfig:b,updateNetworkConfig:f}=De(),h=!r,u=async c=>{try{h?await b(o,c):await f(o,c),W.success("保存配置成功")}catch(m){const i=m.message;throw W.error(`保存配置失败: ${i}`),m}},p=c=>{switch(o){case"httpServers":return e.jsx($a,{data:r,onClose:c,onSubmit:u});case"httpClients":return e.jsx(Na,{data:r,onClose:c,onSubmit:u});case"websocketServers":return e.jsx(Ea,{data:r,onClose:c,onSubmit:u});case"websocketClients":return e.jsx(Ia,{data:r,onClose:c,onSubmit:u});case"httpSseServers":return e.jsx(Ta,{data:r,onClose:c,onSubmit:u});default:return null}};return e.jsx(xt,{backdrop:"blur",isDismissable:!1,isOpen:a,size:"lg",scrollBehavior:"outside",onOpenChange:s,children:e.jsx(yt,{children:c=>e.jsxs(e.Fragment,{children:[e.jsx(wt,{className:"flex flex-col gap-1",children:Ma[o]}),p(c)]})})})},_a=({isEmpty:t})=>e.jsx("div",{className:ke("text-default-400",{hidden:!t}),children:"暂时还没有配置项哈"});function bs(){const{config:t,refreshConfig:a,deleteNetworkConfig:s,enableNetworkConfig:o,enableDebugNetworkConfig:r}=De(),[b,f]=_.useState("httpServers"),[h,u]=_.useState(""),{network:{httpServers:p,httpClients:c,httpSseServers:m,websocketServers:i,websocketClients:d}}=t,[x,j]=_.useState(!1),{isOpen:v,onOpen:$,onOpenChange:M}=Ct(),k=Xt(),T=_.useMemo(()=>t.network[b].find(n=>n.name===h),[b,h,t]),g=async()=>{j(!0);try{await a(),j(!1)}catch(l){const n=l.message;W.error(`获取配置失败: ${n}`)}finally{j(!1)}},C=l=>{f(l),u(""),$()},H=async(l,n)=>new Promise((P,w)=>{k.confirm({title:"删除配置",content:`确定要删除配置「${n}」吗?`,onConfirm:async()=>{try{await s(l,n),W.success("删除配置成功"),P()}catch(I){const E=I.message;W.error(`删除配置失败: ${E}`),w(I)}},onCancel:()=>{P()}})}),y=async(l,n)=>{try{await o(l,n),W.success("更新配置成功")}catch(P){const w=P.message;throw W.error(`更新配置失败: ${w}`),P}},N=async(l,n)=>{try{await r(l,n),W.success("更新配置成功")}catch(P){const w=P.message;throw W.error(`更新配置失败: ${w}`),P}},R=(l,n)=>{f(l),u(n),$()},S=(l,n,P=!1)=>{switch(l){case"httpServers":return e.jsx(Pa,{showType:P,data:n,onDelete:async()=>{await H("httpServers",n.name)},onEdit:()=>{R("httpServers",n.name)},onEnable:async()=>{await y("httpServers",n.name)},onEnableDebug:async()=>{await N("httpServers",n.name)}},n.name);case"httpClients":return e.jsx(Sa,{showType:P,data:n,onDelete:async()=>{await H("httpClients",n.name)},onEdit:()=>{R("httpClients",n.name)},onEnable:async()=>{await y("httpClients",n.name)},onEnableDebug:async()=>{await N("httpClients",n.name)}},n.name);case"httpSseServers":return e.jsx(ja,{showType:P,data:n,onDelete:async()=>{await H("httpSseServers",n.name)},onEdit:()=>{R("httpSseServers",n.name)},onEnable:async()=>{await y("httpSseServers",n.name)},onEnableDebug:async()=>{await N("httpSseServers",n.name)}},n.name);case"websocketServers":return e.jsx(Da,{showType:P,data:n,onDelete:async()=>{await H("websocketServers",n.name)},onEdit:()=>{R("websocketServers",n.name)},onEnable:async()=>{await y("websocketServers",n.name)},onEnableDebug:async()=>{await N("websocketServers",n.name)}},n.name);case"websocketClients":return e.jsx(ka,{showType:P,data:n,onDelete:async()=>{await H("websocketClients",n.name)},onEdit:()=>{R("websocketClients",n.name)},onEnable:async()=>{await y("websocketClients",n.name)},onEnableDebug:async()=>{await N("websocketClients",n.name)}},n.name)}},O=[{key:"all",title:"全部",items:[...p,...c,...i,...d,...m].sort((l,n)=>l.name.localeCompare(n.name)).map(l=>p.find(n=>n.name===l.name)?S("httpServers",l,!0):m.find(n=>n.name===l.name)?S("httpSseServers",l,!0):c.find(n=>n.name===l.name)?S("httpClients",l,!0):i.find(n=>n.name===l.name)?S("websocketServers",l,!0):d.find(n=>n.name===l.name)?S("websocketClients",l,!0):null)},{key:"httpServers",title:"HTTP服务器",items:p.map(l=>S("httpServers",l))},{key:"httpClients",title:"HTTP客户端",items:c.map(l=>S("httpClients",l))},{key:"httpSseServers",title:"HTTP SSE服务器",items:m.map(l=>S("httpSseServers",l))},{key:"websocketServers",title:"Websocket服务器",items:i.map(l=>S("websocketServers",l))},{key:"websocketClients",title:"Websocket客户端",items:d.map(l=>S("websocketClients",l))}];return _.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx("title",{children:"网络配置 - NapCat WebUI"}),e.jsxs("div",{className:"p-2 md:p-4 relative",children:[e.jsx(Ra,{data:T,field:b,isOpen:v,onOpenChange:M}),e.jsx(St,{loading:x}),e.jsxs("div",{className:"flex mb-6 items-center gap-4",children:[e.jsx(ya,{onOpen:C}),e.jsx(A,{isIconOnly:!0,color:"primary",radius:"full",variant:"flat",onPress:g,children:e.jsx(Dt,{size:24})})]}),e.jsx(Pt,{"aria-label":"Network Configs",className:"max-w-full",items:O,classNames:{tabList:"bg-opacity-50 backdrop-blur-sm",cursor:"bg-opacity-60 backdrop-blur-sm"},children:l=>e.jsxs(jt,{title:l.title,children:[e.jsx(_a,{isEmpty:!l.items.length}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 justify-start items-stretch gap-x-2 gap-y-4",children:l.items})]},l.key)})]})]})}export{bs as default};
