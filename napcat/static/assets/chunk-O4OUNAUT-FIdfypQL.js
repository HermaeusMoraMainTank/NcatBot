import{a as _e,$ as Oe,b as Ee,c as ke,d as Te}from"./chunk-IHO36JMK-DQwKzQU4.js";import{m as H,E as Fe,N as re,a_ as De,aU as ie,bQ as Re,O as T,bi as G,bR as je,bS as Ae,a5 as Be,a2 as ne,bj as Z,R as Le,n as le,X as ce,q as N,a3 as q,j as m,aR as Ve,o as de,J as Ne,L as He,Y as We,p as ue,bm as Ue,v as R,w as he,bE as Ke,bO as qe}from"./index-CmYOQK5J.js";import{r as M,e as Ye}from"./react-router-dom-OnDrQFKg.js";import{a as Je}from"./getChildNodes-eHDh6EOw.js";var Qe=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],Xe=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],ee=H({base:[],variants:{orientation:{vertical:["overflow-y-auto",...Qe],horizontal:["overflow-x-auto",...Xe]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}}),Ge=H({slots:{base:"w-full relative flex flex-col gap-1 p-1 overflow-clip",list:"w-full flex flex-col gap-0.5 outline-none",emptyContent:["h-10","px-2","py-1.5","w-full","h-full","text-foreground-400","text-start"]}}),te=H({slots:{base:["flex","group","gap-2","items-center","justify-between","relative","px-2","py-1.5","w-full","h-full","box-border","rounded-small","subpixel-antialiased","outline-none","cursor-pointer","tap-highlight-transparent",...Fe,"data-[focus-visible=true]:dark:ring-offset-background-content1"],wrapper:"w-full flex flex-col items-start justify-center",title:"flex-1 text-small font-normal",description:["w-full","text-tiny","text-foreground-500","group-hover:text-current"],selectedIcon:["text-inherit","w-3","h-3","flex-shrink-0"],shortcut:["px-1","py-0.5","rounded","font-sans","text-foreground-500","text-tiny","border-small","border-default-300","group-hover:border-current"]},variants:{variant:{solid:{base:""},bordered:{base:"border-medium border-transparent bg-transparent"},light:{base:"bg-transparent"},faded:{base:["border-small border-transparent hover:border-default data-[hover=true]:bg-default-100","data-[selectable=true]:focus:border-default data-[selectable=true]:focus:bg-default-100"]},flat:{base:""},shadow:{base:"data-[hover=true]:shadow-lg"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},showDivider:{true:{base:["mb-1.5","after:content-['']","after:absolute","after:-bottom-1","after:left-0","after:right-0","after:h-divider","after:bg-divider"]},false:{}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{},false:{base:"data-[hover=true]:transition-colors"}},hasTitleTextChild:{true:{title:"truncate"}},hasDescriptionTextChild:{true:{description:"truncate"}}},defaultVariants:{variant:"solid",color:"default",showDivider:!1},compoundVariants:[{variant:"solid",color:"default",class:{base:["data-[hover=true]:bg-default","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"solid",color:"primary",class:{base:["data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"solid",color:"secondary",class:{base:["data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"solid",color:"success",class:{base:["data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"solid",color:"warning",class:{base:["data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"solid",color:"danger",class:{base:["data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"shadow",color:"default",class:{base:["data-[hover=true]:shadow-default/50 data-[hover=true]:bg-default data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:shadow-default/50 data-[selectable=true]:focus:bg-default data-[selectable=true]:focus:text-default-foreground"]}},{variant:"shadow",color:"primary",class:{base:["data-[hover=true]:shadow-primary/30 data-[hover=true]:bg-primary data-[hover=true]:text-primary-foreground","data-[selectable=true]:focus:shadow-primary/30 data-[selectable=true]:focus:bg-primary data-[selectable=true]:focus:text-primary-foreground"]}},{variant:"shadow",color:"secondary",class:{base:["data-[hover=true]:shadow-secondary/30 data-[hover=true]:bg-secondary data-[hover=true]:text-secondary-foreground","data-[selectable=true]:focus:shadow-secondary/30 data-[selectable=true]:focus:bg-secondary data-[selectable=true]:focus:text-secondary-foreground"]}},{variant:"shadow",color:"success",class:{base:["data-[hover=true]:shadow-success/30 data-[hover=true]:bg-success data-[hover=true]:text-success-foreground","data-[selectable=true]:focus:shadow-success/30 data-[selectable=true]:focus:bg-success data-[selectable=true]:focus:text-success-foreground"]}},{variant:"shadow",color:"warning",class:{base:["data-[hover=true]:shadow-warning/30 data-[hover=true]:bg-warning data-[hover=true]:text-warning-foreground","data-[selectable=true]:focus:shadow-warning/30 data-[selectable=true]:focus:bg-warning data-[selectable=true]:focus:text-warning-foreground"]}},{variant:"shadow",color:"danger",class:{base:["data-[hover=true]:shadow-danger/30 data-[hover=true]:bg-danger data-[hover=true]:text-danger-foreground","data-[selectable=true]:focus:shadow-danger/30 data-[selectable=true]:focus:bg-danger data-[selectable=true]:focus:text-danger-foreground"]}},{variant:"bordered",color:"default",class:{base:["data-[hover=true]:border-default","data-[selectable=true]:focus:border-default"]}},{variant:"bordered",color:"primary",class:{base:["data-[hover=true]:border-primary data-[hover=true]:text-primary","data-[selectable=true]:focus:border-primary data-[selectable=true]:focus:text-primary"]}},{variant:"bordered",color:"secondary",class:{base:["data-[hover=true]:border-secondary data-[hover=true]:text-secondary","data-[selectable=true]:focus:border-secondary data-[selectable=true]:focus:text-secondary"]}},{variant:"bordered",color:"success",class:{base:["data-[hover=true]:border-success data-[hover=true]:text-success","data-[selectable=true]:focus:border-success data-[selectable=true]:focus:text-success"]}},{variant:"bordered",color:"warning",class:{base:["data-[hover=true]:border-warning data-[hover=true]:text-warning","data-[selectable=true]:focus:border-warning data-[selectable=true]:focus:text-warning"]}},{variant:"bordered",color:"danger",class:{base:["data-[hover=true]:border-danger data-[hover=true]:text-danger","data-[selectable=true]:focus:border-danger data-[selectable=true]:focus:text-danger"]}},{variant:"flat",color:"default",class:{base:["data-[hover=true]:bg-default/40","data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:bg-default/40","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"flat",color:"primary",class:{base:["data-[hover=true]:bg-primary/20 data-[hover=true]:text-primary","data-[selectable=true]:focus:bg-primary/20 data-[selectable=true]:focus:text-primary"]}},{variant:"flat",color:"secondary",class:{base:["data-[hover=true]:bg-secondary/20 data-[hover=true]:text-secondary","data-[selectable=true]:focus:bg-secondary/20 data-[selectable=true]:focus:text-secondary"]}},{variant:"flat",color:"success",class:{base:["data-[hover=true]:bg-success/20 data-[hover=true]:text-success","data-[selectable=true]:focus:bg-success/20 data-[selectable=true]:focus:text-success"]}},{variant:"flat",color:"warning",class:{base:["data-[hover=true]:bg-warning/20 data-[hover=true]:text-warning","data-[selectable=true]:focus:bg-warning/20 data-[selectable=true]:focus:text-warning"]}},{variant:"flat",color:"danger",class:{base:["data-[hover=true]:bg-danger/20 data-[hover=true]:text-danger","data-[selectable=true]:focus:bg-danger/20 data-[selectable=true]:focus:text-danger"]}},{variant:"faded",color:"default",class:{base:["data-[hover=true]:text-default-foreground","data-[selectable=true]:focus:text-default-foreground"]}},{variant:"faded",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"faded",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"faded",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"faded",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"faded",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}},{variant:"light",color:"default",class:{base:["data-[hover=true]:text-default-500","data-[selectable=true]:focus:text-default-500"]}},{variant:"light",color:"primary",class:{base:["data-[hover=true]:text-primary","data-[selectable=true]:focus:text-primary"]}},{variant:"light",color:"secondary",class:{base:["data-[hover=true]:text-secondary","data-[selectable=true]:focus:text-secondary"]}},{variant:"light",color:"success",class:{base:["data-[hover=true]:text-success","data-[selectable=true]:focus:text-success"]}},{variant:"light",color:"warning",class:{base:["data-[hover=true]:text-warning","data-[selectable=true]:focus:text-warning"]}},{variant:"light",color:"danger",class:{base:["data-[hover=true]:text-danger","data-[selectable=true]:focus:text-danger"]}}]}),Ze=H({slots:{base:"relative mb-2",heading:"pl-1 text-tiny text-foreground-500",group:"data-[has-title=true]:pt-1",divider:"mt-2"}});const se=new WeakMap;function et(o){let i=se.get(o);if(i!=null)return i;let e=0,t=s=>{for(let a of s)a.type==="section"?t(Je(a,o)):e++};return t(o),se.set(o,e),e}var tt=_e,Rt=tt;const Y=new WeakMap;function st(o){return typeof o=="string"?o.replace(/\s*/g,""):""+o}function ot(o,i){let e=Y.get(o);if(!e)throw new Error("Unknown list");return`${e.id}-option-${st(i)}`}function at(o,i,e){let t=re(o,{labelable:!0}),s=o.selectionBehavior||"toggle",a=o.linkBehavior||(s==="replace"?"action":"override");s==="toggle"&&a==="action"&&(a="override");let{listProps:r}=Oe({...o,ref:e,selectionManager:i.selectionManager,collection:i.collection,disabledKeys:i.disabledKeys,linkBehavior:a}),{focusWithinProps:n}=De({onFocusWithin:o.onFocus,onBlurWithin:o.onBlur,onFocusWithinChange:o.onFocusChange}),c=ie(o.id);Y.set(i,{id:c,shouldUseVirtualFocus:o.shouldUseVirtualFocus,shouldSelectOnPressUp:o.shouldSelectOnPressUp,shouldFocusOnHover:o.shouldFocusOnHover,isVirtualized:o.isVirtualized,onAction:o.onAction,linkBehavior:a});let{labelProps:l,fieldProps:d}=Re({...o,id:c,labelElementType:"span"});return{labelProps:l,listBoxProps:T(t,n,i.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...T(d,r)})}}function rt(o,i,e){var t,s;let{key:a}=o,r=Y.get(i);var n;let c=(n=o.isDisabled)!==null&&n!==void 0?n:i.selectionManager.isDisabled(a);var l;let d=(l=o.isSelected)!==null&&l!==void 0?l:i.selectionManager.isSelected(a);var v;let y=(v=o.shouldSelectOnPressUp)!==null&&v!==void 0?v:r==null?void 0:r.shouldSelectOnPressUp;var f;let g=(f=o.shouldFocusOnHover)!==null&&f!==void 0?f:r==null?void 0:r.shouldFocusOnHover;var u;let b=(u=o.shouldUseVirtualFocus)!==null&&u!==void 0?u:r==null?void 0:r.shouldUseVirtualFocus;var h;let p=(h=o.isVirtualized)!==null&&h!==void 0?h:r==null?void 0:r.isVirtualized,P=G(),$=G(),w={role:"option","aria-disabled":c||void 0,"aria-selected":i.selectionManager.selectionMode!=="none"?d:void 0};je()&&Ae()||(w["aria-label"]=o["aria-label"],w["aria-labelledby"]=P,w["aria-describedby"]=$);let x=i.collection.getItem(a);if(p){let O=Number(x==null?void 0:x.index);w["aria-posinset"]=Number.isNaN(O)?void 0:O+1,w["aria-setsize"]=et(i.collection)}let z=r!=null&&r.onAction?()=>{var O;return r==null||(O=r.onAction)===null||O===void 0?void 0:O.call(r,a)}:void 0,{itemProps:C,isPressed:F,isFocused:I,hasAction:j,allowsSelection:E}=Ee({selectionManager:i.selectionManager,key:a,ref:e,shouldSelectOnPressUp:y,allowsDifferentPressOrigin:y&&g,isVirtualized:p,shouldUseVirtualFocus:b,isDisabled:c,onAction:z||!(x==null||(t=x.props)===null||t===void 0)&&t.onAction?Be(x==null||(s=x.props)===null||s===void 0?void 0:s.onAction,z):void 0,linkBehavior:r==null?void 0:r.linkBehavior}),{hoverProps:S}=ne({isDisabled:c||!g,onHoverStart(){Z()||(i.selectionManager.setFocused(!0),i.selectionManager.setFocusedKey(a))}}),A=re(x==null?void 0:x.props);delete A.id;let _=Le(x==null?void 0:x.props);return{optionProps:{...w,...T(A,C,S,_),id:ot(i,a)},labelProps:{id:P},descriptionProps:{id:$},isFocused:I,isFocusVisible:I&&Z(),isSelected:d,isDisabled:c,isPressed:F,allowsSelection:E,hasAction:j}}function it(o){let{heading:i,"aria-label":e}=o,t=ie();return{itemProps:{role:"presentation"},headingProps:i?{id:t,role:"presentation"}:{},groupProps:{role:"group","aria-label":e,"aria-labelledby":i?t:void 0}}}function nt(o){var i;const e=le(),{ref:t,as:s,state:a,variant:r,color:n,onAction:c,children:l,onSelectionChange:d,disableAnimation:v=(i=e==null?void 0:e.disableAnimation)!=null?i:!1,itemClasses:y,className:f,topContent:g,bottomContent:u,emptyContent:b="No items.",hideSelectedIcon:h=!1,hideEmptyContent:p=!1,shouldHighlightOnFocus:P=!1,classNames:$,...w}=o,x=s||"ul",z=typeof x=="string",C=ce(t),F=ke({...o,children:l,onSelectionChange:d}),I=a||F,{listBoxProps:j}=at({...o,onAction:c},I,C),E=M.useMemo(()=>Ge({className:f}),[f]),S=N($==null?void 0:$.base,f);return{Component:x,state:I,variant:r,color:n,slots:E,classNames:$,topContent:g,bottomContent:u,emptyContent:b,hideEmptyContent:p,shouldHighlightOnFocus:P,hideSelectedIcon:h,disableAnimation:v,className:f,itemClasses:y,getBaseProps:(k={})=>({ref:C,"data-slot":"base",className:E.base({class:S}),...q(w,{enabled:z}),...k}),getListProps:(k={})=>({"data-slot":"list",className:E.list({class:$==null?void 0:$.list}),...j,...k}),getEmptyContentProps:(k={})=>({"data-slot":"empty-content",children:b,className:E.emptyContent({class:$==null?void 0:$.emptyContent}),...k})}}function lt(o){const{isSelected:i,disableAnimation:e,...t}=o;return m.jsx("svg",{"aria-hidden":"true","data-selected":i,role:"presentation",viewBox:"0 0 17 18",...t,children:m.jsx("polyline",{fill:"none",points:"1 9 7 14 15 4",stroke:"currentColor",strokeDasharray:22,strokeDashoffset:i?44:66,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,style:e?{}:{transition:"stroke-dashoffset 200ms ease"}})})}var ct=700;function dt(){return Ve()||typeof window>"u"?!1:window.screen.width<=ct}function ut(o){var i,e;const t=le(),[s,a]=de(o,te.variantKeys),{as:r,item:n,state:c,description:l,startContent:d,endContent:v,isVirtualized:y,selectedIcon:f,className:g,classNames:u,autoFocus:b,onPress:h,onClick:p,shouldHighlightOnFocus:P,hideSelectedIcon:$=!1,isReadOnly:w=!1,...x}=s,z=(e=(i=o.disableAnimation)!=null?i:t==null?void 0:t.disableAnimation)!=null?e:!1,C=M.useRef(null),F=r||(o.href?"a":"li"),I=typeof F=="string",{rendered:j,key:E}=n,S=c.disabledKeys.has(E)||o.isDisabled,A=c.selectionManager.selectionMode!=="none",_=dt();p&&typeof p=="function"&&Ne("onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292","ListboxItem");const{pressProps:O,isPressed:k}=He({ref:C,isDisabled:S,onPress:h}),{isHovered:L,hoverProps:me}=ne({isDisabled:S}),{isFocusVisible:Q,focusProps:ve}=We({autoFocus:b}),{isFocused:W,isSelected:X,optionProps:xe,labelProps:ye,descriptionProps:we}=rt({key:E,isDisabled:S,"aria-label":s["aria-label"],isVirtualized:y},c,C);let U=xe;const B=M.useMemo(()=>te({...a,isDisabled:S,disableAnimation:z,hasTitleTextChild:typeof j=="string",hasDescriptionTextChild:typeof l=="string"}),[ue(a),S,z,j,l]),Se=N(u==null?void 0:u.base,g);w&&(U=Ue(U));const $e=P&&W||(_?L||k:L||W&&!Q),ze=(D={})=>({ref:C,...T({onClick:p},U,w?{}:T(ve,O),me,q(x,{enabled:I}),D),"data-selectable":R(A),"data-focus":R(W),"data-hover":R($e),"data-disabled":R(S),"data-selected":R(X),"data-pressed":R(k),"data-focus-visible":R(Q),className:B.base({class:N(Se,D.className)})}),Ce=(D={})=>({...T(ye,D),"data-label":R(!0),className:B.title({class:u==null?void 0:u.title})}),Me=(D={})=>({...T(we,D),className:B.description({class:u==null?void 0:u.description})}),Pe=(D={})=>({...T(D),className:B.wrapper({class:u==null?void 0:u.wrapper})}),Ie=M.useCallback((D={})=>({"aria-hidden":R(!0),"data-disabled":R(S),className:B.selectedIcon({class:u==null?void 0:u.selectedIcon}),...D}),[S,B,u]);return{Component:F,domRef:C,slots:B,classNames:u,isSelectable:A,isSelected:X,isDisabled:S,rendered:j,description:l,startContent:d,endContent:v,selectedIcon:f,hideSelectedIcon:$,disableAnimation:z,getItemProps:ze,getLabelProps:Ce,getWrapperProps:Pe,getDescriptionProps:Me,getSelectedIconProps:Ie}}var fe=o=>{const{Component:i,rendered:e,description:t,isSelectable:s,isSelected:a,isDisabled:r,selectedIcon:n,startContent:c,endContent:l,hideSelectedIcon:d,disableAnimation:v,getItemProps:y,getLabelProps:f,getWrapperProps:g,getDescriptionProps:u,getSelectedIconProps:b}=ut(o),h=M.useMemo(()=>{const p=m.jsx(lt,{disableAnimation:v,isSelected:a});return typeof n=="function"?n({icon:p,isSelected:a,isDisabled:r}):n||p},[n,a,r,v]);return m.jsxs(i,{...y(),children:[c,t?m.jsxs("div",{...g(),children:[m.jsx("span",{...f(),children:e}),m.jsx("span",{...u(),children:t})]}):m.jsx("span",{...f(),children:e}),s&&!d&&m.jsx("span",{...b(),children:h}),l]})};fe.displayName="HeroUI.ListboxItem";var J=fe,be=he(({item:o,state:i,as:e,variant:t,color:s,disableAnimation:a,className:r,classNames:n,hideSelectedIcon:c,showDivider:l=!1,dividerProps:d={},itemClasses:v,title:y,items:f,...g},u)=>{const b=e||"li",h=M.useMemo(()=>Ze(),[]),p=N(n==null?void 0:n.base,r),P=N(n==null?void 0:n.divider,d==null?void 0:d.className),{itemProps:$,headingProps:w,groupProps:x}=it({heading:o.rendered,"aria-label":o["aria-label"]});return m.jsxs(b,{"data-slot":"base",...T($,g),className:h.base({class:p}),children:[o.rendered&&m.jsx("span",{...w,className:h.heading({class:n==null?void 0:n.heading}),"data-slot":"heading",children:o.rendered}),m.jsxs("ul",{...x,className:h.group({class:n==null?void 0:n.group}),"data-has-title":!!o.rendered,"data-slot":"group",children:[[...o.childNodes].map(z=>{const{key:C,props:F}=z;let I=m.jsx(J,{classNames:v,color:s,disableAnimation:a,hideSelectedIcon:c,item:z,state:i,variant:t,...F},C);return z.wrapper&&(I=z.wrapper(I)),I}),l&&m.jsx(Te,{as:"li",className:h.divider({class:P}),...d})]})]},o.key)});be.displayName="HeroUI.ListboxSection";var ge=be;function V(o,i,e){let t=e.initialDeps??[],s;return()=>{var a,r,n,c;let l;e.key&&((a=e.debug)!=null&&a.call(e))&&(l=Date.now());const d=o();if(!(d.length!==t.length||d.some((f,g)=>t[g]!==f)))return s;t=d;let y;if(e.key&&((r=e.debug)!=null&&r.call(e))&&(y=Date.now()),s=i(...d),e.key&&((n=e.debug)!=null&&n.call(e))){const f=Math.round((Date.now()-l)*100)/100,g=Math.round((Date.now()-y)*100)/100,u=g/16,b=(h,p)=>{for(h=String(h);h.length<p;)h=" "+h;return h};console.info(`%c⏱ ${b(g,5)} /${b(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*u,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(c=e==null?void 0:e.onChange)==null||c.call(e,s),s}}function K(o,i){if(o===void 0)throw new Error("Unexpected undefined");return o}const ht=(o,i)=>Math.abs(o-i)<1,ft=(o,i,e)=>{let t;return function(...s){o.clearTimeout(t),t=o.setTimeout(()=>i.apply(this,s),e)}},bt=o=>o,gt=o=>{const i=Math.max(o.startIndex-o.overscan,0),e=Math.min(o.endIndex+o.overscan,o.count-1),t=[];for(let s=i;s<=e;s++)t.push(s);return t},pt=(o,i)=>{const e=o.scrollElement;if(!e)return;const t=o.targetWindow;if(!t)return;const s=r=>{const{width:n,height:c}=r;i({width:Math.round(n),height:Math.round(c)})};if(s(e.getBoundingClientRect()),!t.ResizeObserver)return()=>{};const a=new t.ResizeObserver(r=>{const n=r[0];if(n!=null&&n.borderBoxSize){const c=n.borderBoxSize[0];if(c){s({width:c.inlineSize,height:c.blockSize});return}}s(e.getBoundingClientRect())});return a.observe(e,{box:"border-box"}),()=>{a.unobserve(e)}},oe={passive:!0},mt=typeof window>"u"?!0:"onscrollend"in window,vt=(o,i)=>{const e=o.scrollElement;if(!e)return;const t=o.targetWindow;if(!t)return;let s=0;const a=o.options.useScrollendEvent&&mt?()=>{}:ft(t,()=>{i(s,!1)},o.options.isScrollingResetDelay),r=l=>()=>{const{horizontal:d,isRtl:v}=o.options;s=d?e.scrollLeft*(v&&-1||1):e.scrollTop,a(),i(s,l)},n=r(!0),c=r(!1);return c(),e.addEventListener("scroll",n,oe),e.addEventListener("scrollend",c,oe),()=>{e.removeEventListener("scroll",n),e.removeEventListener("scrollend",c)}},xt=(o,i,e)=>{if(i!=null&&i.borderBoxSize){const t=i.borderBoxSize[0];if(t)return Math.round(t[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(o.getBoundingClientRect()[e.options.horizontal?"width":"height"])},yt=(o,{adjustments:i=0,behavior:e},t)=>{var s,a;const r=o+i;(a=(s=t.scrollElement)==null?void 0:s.scrollTo)==null||a.call(s,{[t.options.horizontal?"left":"top"]:r,behavior:e})};class wt{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const t=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(s=>{s.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var s;(s=t())==null||s.disconnect(),e=null},observe:s=>{var a;return(a=t())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:s=>{var a;return(a=t())==null?void 0:a.unobserve(s)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,s])=>{typeof s>"u"&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:bt,rangeExtractor:gt,onChange:()=>{},measureElement:xt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...e}},this.notify=e=>{var t,s;(s=(t=this.options).onChange)==null||s.call(t,this,e)},this.maybeNotify=V(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t){this.maybeNotify();return}this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const s=new Map,a=new Map;for(let r=t-1;r>=0;r--){const n=e[r];if(s.has(n.lane))continue;const c=a.get(n.lane);if(c==null||n.end>c.end?a.set(n.lane,n):n.end<c.end&&s.set(n.lane,!0),s.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((r,n)=>r.end===n.end?r.index-n.index:r.end-n.end)[0]:void 0},this.getMeasurementOptions=V(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,s,a,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:s,getItemKey:a,enabled:r}),{key:!1}),this.getMeasurements=V(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:s,getItemKey:a,enabled:r},n)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,c);for(let d=c;d<e;d++){const v=a(d),y=this.options.lanes===1?l[d-1]:this.getFurthestMeasurement(l,d),f=y?y.end+this.options.gap:t+s,g=n.get(v),u=typeof g=="number"?g:this.options.estimateSize(d),b=f+u,h=y?y.lane:d%this.options.lanes;l[d]={index:d,start:f,size:u,end:b,key:v,lane:h}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=V(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,t,s)=>this.range=e.length>0&&t>0?St({measurements:e,outerSize:t,scrollOffset:s}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=V(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,t,s,a)=>t===null?[]:e({startIndex:t.startIndex,endIndex:t.endIndex,overscan:s,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,s=e.getAttribute(t);return s?parseInt(s,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const s=this.indexFromElement(e),a=this.measurementsCache[s];if(!a)return;const r=a.key,n=this.elementsCache.get(r);n!==e&&(n&&this.observer.unobserve(n),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(s,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const s=this.measurementsCache[e];if(!s)return;const a=this.itemSizeCache.get(s.key)??s.size,r=t-a;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,r,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((t,s)=>{t.isConnected||(this.observer.unobserve(t),this.elementsCache.delete(s))});return}this._measureElement(e,void 0)},this.getVirtualItems=V(()=>[this.getIndexes(),this.getMeasurements()],(e,t)=>{const s=[];for(let a=0,r=e.length;a<r;a++){const n=e[a],c=t[n];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(t.length!==0)return K(t[pe(0,t.length-1,s=>K(t[s]).start,e)])},this.getOffsetForAlignment=(e,t)=>{const s=this.getSize(),a=this.getScrollOffset();t==="auto"&&e>=a+s&&(t="end"),t==="end"&&(e-=s);const r=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-s;return Math.max(Math.min(c,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const s=this.measurementsCache[e];if(!s)return;const a=this.getSize(),r=this.getScrollOffset();if(t==="auto")if(s.end>=r+a-this.options.scrollPaddingEnd)t="end";else if(s.start<=r+this.options.scrollPaddingStart)t="start";else return[r,t];const n=s.start-this.options.scrollPaddingStart+(s.size-a)/2;switch(t){case"center":return[this.getOffsetForAlignment(n,t),t];case"end":return[this.getOffsetForAlignment(s.end+this.options.scrollPaddingEnd,t),t];default:return[this.getOffsetForAlignment(s.start-this.options.scrollPaddingStart,t),t]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:s})},this.scrollToIndex=(e,{align:t="auto",behavior:s}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(e,t);if(!a)return;const[r,n]=a;this._scrollToOffset(r,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[l]=K(this.getOffsetForIndex(e,n));ht(l,this.getScrollOffset())||this.scrollToIndex(e,{align:n,behavior:s})}else this.scrollToIndex(e,{align:n,behavior:s})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let s;return t.length===0?s=this.options.paddingStart:s=this.options.lanes===1?((e=t[t.length-1])==null?void 0:e.end)??0:Math.max(...t.slice(-this.options.lanes).map(a=>a.end)),Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:s})=>{this.options.scrollToFn(e,{behavior:s,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(i)}}const pe=(o,i,e,t)=>{for(;o<=i;){const s=(o+i)/2|0,a=e(s);if(a<t)o=s+1;else if(a>t)i=s-1;else return s}return o>0?o-1:0};function St({measurements:o,outerSize:i,scrollOffset:e}){const t=o.length-1,a=pe(0,t,n=>o[n].start,e);let r=a;for(;r<t&&o[r].end<e+i;)r++;return{startIndex:a,endIndex:r}}const ae=typeof document<"u"?M.useLayoutEffect:M.useEffect;function $t(o){const i=M.useReducer(()=>({}),{})[1],e={...o,onChange:(s,a)=>{var r;a?Ye.flushSync(i):i(),(r=o.onChange)==null||r.call(o,s,a)}},[t]=M.useState(()=>new wt(e));return t.setOptions(e),ae(()=>t._didMount(),[]),ae(()=>t._willUpdate()),t}function zt(o){return $t({observeElementRect:pt,observeElementOffset:vt,scrollToFn:yt,...o})}function Ct(o={}){const{domRef:i,isEnabled:e=!0,overflowCheck:t="vertical",visibility:s="auto",offset:a=0,onVisibilityChange:r,updateDeps:n=[]}=o,c=M.useRef(s);M.useEffect(()=>{const l=i==null?void 0:i.current;if(!l||!e)return;const d=(f,g,u,b,h)=>{if(s==="auto"){const p=`${b}${qe(h)}Scroll`;g&&u?(l.dataset[p]="true",l.removeAttribute(`data-${b}-scroll`),l.removeAttribute(`data-${h}-scroll`)):(l.dataset[`${b}Scroll`]=g.toString(),l.dataset[`${h}Scroll`]=u.toString(),l.removeAttribute(`data-${b}-${h}-scroll`))}else{const p=g&&u?"both":g?b:u?h:"none";p!==c.current&&(r==null||r(p),c.current=p)}},v=()=>{const f=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}];for(const{type:g,prefix:u,suffix:b}of f)if(t===g||t==="both"){const h=g==="vertical"?l.scrollTop>a:l.scrollLeft>a,p=g==="vertical"?l.scrollTop+l.clientHeight+a<l.scrollHeight:l.scrollLeft+l.clientWidth+a<l.scrollWidth;d(g,h,p,u,b)}},y=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(f=>{l.removeAttribute(`data-${f}-scroll`)})};return v(),l.addEventListener("scroll",v),s!=="auto"&&(y(),s==="both"?(l.dataset.topBottomScroll=String(t==="vertical"),l.dataset.leftRightScroll=String(t==="horizontal")):(l.dataset.topBottomScroll="false",l.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(f=>{l.dataset[`${f}Scroll`]=String(s===f)}))),()=>{l.removeEventListener("scroll",v),y()}},[...n,e,s,t,r,i])}function Mt(o){var i;const[e,t]=de(o,ee.variantKeys),{ref:s,as:a,children:r,className:n,style:c,size:l=40,offset:d=0,visibility:v="auto",isEnabled:y=!0,onVisibilityChange:f,...g}=e,u=a||"div",b=ce(s);Ct({domRef:b,offset:d,visibility:v,isEnabled:y,onVisibilityChange:f,updateDeps:[r],overflowCheck:(i=o.orientation)!=null?i:"vertical"});const h=M.useMemo(()=>ee({...t,className:n}),[ue(t),n]);return{Component:u,styles:h,domRef:b,children:r,getBaseProps:(P={})=>{var $;return{ref:b,className:h,"data-orientation":($=o.orientation)!=null?$:"vertical",style:{"--scroll-shadow-size":`${l}px`,...c,...P.style},...g,...P}}}}var Pt=(o,i)=>{const e=[];for(const t of o)t.type==="section"?e.push(([...t.childNodes].length+1)*i):e.push(i);return e},It=o=>{if(!o||o.scrollTop===void 0||o.clientHeight===void 0||o.scrollHeight===void 0)return{isTop:!1,isBottom:!1,isMiddle:!1};const i=o.scrollTop===0,e=Math.ceil(o.scrollTop+o.clientHeight)>=o.scrollHeight;return{isTop:i,isBottom:e,isMiddle:!i&&!e}},_t=o=>{const{Component:i,state:e,color:t,variant:s,itemClasses:a,getBaseProps:r,topContent:n,bottomContent:c,hideEmptyContent:l,hideSelectedIcon:d,shouldHighlightOnFocus:v,disableAnimation:y,getEmptyContentProps:f,getListProps:g,scrollShadowProps:u}=o,{virtualization:b}=o;if(!b||!Ke(b)&&!b.maxListboxHeight&&!b.itemHeight)throw new Error("You are using a virtualized listbox. VirtualizedListbox requires 'virtualization' props with 'maxListboxHeight' and 'itemHeight' properties. This error might have originated from autocomplete components that use VirtualizedListbox. Please provide these props to use the virtualized listbox.");const{maxListboxHeight:h,itemHeight:p}=b,P=Math.min(h,p*e.collection.size),$=M.useRef(null),w=M.useMemo(()=>Pt([...e.collection],p),[e.collection,p]),x=zt({count:[...e.collection].length,getScrollElement:()=>$.current,estimateSize:S=>w[S]}),z=x.getVirtualItems(),{getBaseProps:C}=Mt({...u}),F=S=>{var A;const _=[...e.collection][S.index];if(!_)return null;const O={color:t,item:_,state:e,variant:s,disableAnimation:y,hideSelectedIcon:d,..._.props},k={position:"absolute",top:0,left:0,width:"100%",height:`${S.size}px`,transform:`translateY(${S.start}px)`};if(_.type==="section")return m.jsx(ge,{...O,itemClasses:a,style:{...k,...O.style}},_.key);let L=m.jsx(J,{...O,classNames:T(a,(A=_.props)==null?void 0:A.classNames),shouldHighlightOnFocus:v,style:{...k,...O.style}},_.key);return _.wrapper&&(L=_.wrapper(L)),L},[I,j]=M.useState({isTop:!1,isBottom:!0,isMiddle:!1}),E=m.jsxs(i,{...g(),children:[!e.collection.size&&!l&&m.jsx("li",{children:m.jsx("div",{...f()})}),m.jsx("div",{...q(C()),ref:$,"data-bottom-scroll":I.isTop,"data-top-bottom-scroll":I.isMiddle,"data-top-scroll":I.isBottom,style:{height:h,overflow:"auto"},onScroll:S=>{j(It(S.target))},children:P>0&&p>0&&m.jsx("div",{style:{height:`${x.getTotalSize()}px`,width:"100%",position:"relative"},children:z.map(S=>F(S))})})]});return m.jsxs("div",{...r(),children:[n,E,c]})},Ot=_t,Et=he(function(i,e){const{isVirtualized:t,...s}=i,a=nt({...s,ref:e}),{Component:r,state:n,color:c,variant:l,itemClasses:d,getBaseProps:v,topContent:y,bottomContent:f,hideEmptyContent:g,hideSelectedIcon:u,shouldHighlightOnFocus:b,disableAnimation:h,getEmptyContentProps:p,getListProps:P}=a;if(t)return m.jsx(Ot,{...i,...a});const $=m.jsxs(r,{...P(),children:[!n.collection.size&&!g&&m.jsx("li",{children:m.jsx("div",{...p()})}),[...n.collection].map(w=>{var x;const z={color:c,item:w,state:n,variant:l,disableAnimation:h,hideSelectedIcon:u,...w.props};if(w.type==="section")return m.jsx(ge,{...z,itemClasses:d},w.key);let C=m.jsx(J,{...z,classNames:T(d,(x=w.props)==null?void 0:x.classNames),shouldHighlightOnFocus:b},w.key);return w.wrapper&&(C=w.wrapper(C)),C})]});return m.jsxs("div",{...v(),children:[y,$,f]})}),jt=Et;export{et as $,jt as a,Ze as b,Ge as c,Rt as l,te as m,ee as s,dt as u};
